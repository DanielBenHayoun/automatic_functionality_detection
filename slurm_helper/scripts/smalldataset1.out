activate enviroment RE_project_1
/var/spool/slurmd/job75127/slurm_script: line 13: /home/eialper/anaconda3/etc/profile.d/conda.sh: No such file or directory

CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.
To initialize your shell, run

    $ conda init <SHELL_NAME>

Currently supported shells are:
  - bash
  - fish
  - tcsh
  - xonsh
  - zsh
  - powershell

See 'conda init --help' for more information and options.

IMPORTANT: You may need to close and restart your shell after running 'conda init'.


start train...
2020-09-20 18:38:20.592606: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2020-09-20 18:38:20.627444: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100020000 Hz
2020-09-20 18:38:20.634332: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x55b29f560130 executing computations on platform Host. Devices:
2020-09-20 18:38:20.634371: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
Dictionaries loaded.
Loaded subtoken vocab. size: 8
Loaded target word vocab. size: 16
Loaded nodes vocab. size: 9
Created model
Starting training

WARNING: The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /home/eialper/final_project/automatic_functionality_detection/code2seq/reader.py:101: to_int64 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /home/eialper/final_project/automatic_functionality_detection/code2seq/reader.py:161: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:1419: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /home/eialper/final_project/automatic_functionality_detection/code2seq/model.py:480: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
WARNING:tensorflow:From /home/eialper/final_project/automatic_functionality_detection/code2seq/model.py:492: bidirectional_dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.Bidirectional(keras.layers.RNN(cell))`, which is equivalent to this API
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/ops/rnn.py:443: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/ops/rnn.py:626: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py:1259: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
WARNING:tensorflow:From /home/eialper/final_project/automatic_functionality_detection/code2seq/model.py:539: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
WARNING:tensorflow:From /home/eialper/final_project/automatic_functionality_detection/code2seq/model.py:406: MultiRNNCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.StackedRNNCells, and will be replaced by that in Tensorflow 2.0.
Training batch size:			 512
Dataset path:				 /home/eialper/final_project/automatic_functionality_detection/small_data/data/dataset/dataset
Training file path:			 /home/eialper/final_project/automatic_functionality_detection/small_data/data/dataset/dataset.train.c2s
Validation path:			 /home/eialper/final_project/automatic_functionality_detection/small_data/data/dataset/dataset.train.c2s
Taking max contexts from each example:	 200
Random path sampling:			 True
Embedding size:				 128
Using BiLSTMs, each of size:		 128
Decoder size:				 320
Decoder layers:				 1
Max path lengths:			 11
Max subtokens in a token:		 5
Max target length:			 6
Embeddings dropout keep_prob:		 0.75
LSTM dropout keep_prob:			 0.5
============================================
Number of trainable params: 1727872
Initalized variables
Started reader...
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m3s
Accuracy after 1 epochs: 0.00000
After 1 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Saved after 1 epochs in: models/cpp-miner-exp2-model/model_iter1
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 2 epochs: 0.00000
After 2 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 3 epochs: 0.00000
After 3 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 4 epochs: 0.00000
After 4 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 5 epochs: 0.00000
After 5 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 6 epochs: 0.00000
After 6 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 7 epochs: 0.00000
After 7 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 8 epochs: 0.00000
After 8 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 9 epochs: 0.00000
After 9 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 10 epochs: 0.00000
After 10 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Finished 1 epochs
Done testing, epoch reached
Evaluation time: 0h0m0s
Accuracy after 11 epochs: 0.00000
After 11 epochs: Precision: 0.51852, recall: 0.60870, F1: 0.56000
Not improved for 10 epochs, stopping training
Best scores - epoch 1: 
Precision: 0.51852, recall: 0.60870, F1: 0.56000
finished train!
