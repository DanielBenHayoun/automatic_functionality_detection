2020-05-03 17:13:02.995305: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2020-05-03 17:13:03.045001: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100000000 Hz
2020-05-03 17:13:03.056361: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x55ed1eb57cb0 executing computations on platform Host. Devices:
2020-05-03 17:13:03.056434: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
WARNING:tensorflow:From /home/eialper/code2seq/reader.py:101: to_int64 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /home/eialper/code2seq/reader.py:161: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:1419: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /home/eialper/code2seq/model.py:480: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
WARNING:tensorflow:From /home/eialper/code2seq/model.py:492: bidirectional_dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.Bidirectional(keras.layers.RNN(cell))`, which is equivalent to this API
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/ops/rnn.py:443: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/ops/rnn.py:626: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
WARNING:tensorflow:From /home/eialper/code2seq/model.py:539: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
WARNING:tensorflow:From /home/eialper/code2seq/model.py:406: MultiRNNCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.StackedRNNCells, and will be replaced by that in Tensorflow 2.0.
WARNING:tensorflow:From /home/eialper/miniconda3/lib/python3.7/site-packages/tensorflow/python/training/saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
Loading dictionaries from: models/java-large-model/model_iter52.release
Done loading dictionaries
Created model

WARNING: The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
If you depend on functionality not listed there, please file an issue.

Done loading model
Prediction throughput: 104
Prediction throughput: 106
Prediction throughput: 107
Prediction throughput: 107
Prediction throughput: 107
Prediction throughput: 107
Prediction throughput: 107
Prediction throughput: 106
Prediction throughput: 106
Prediction throughput: 105
Prediction throughput: 105
Prediction throughput: 105
Prediction throughput: 103
Prediction throughput: 101
Prediction throughput: 100
Prediction throughput: 99
Done testing, epoch reached
Traceback (most recent call last):
  File "code2seq.py", line 41, in <module>
    results, precision, recall, f1, rouge = model.evaluate()
  File "/home/eialper/code2seq/model.py", line 228, in evaluate
    files_rouge = FilesRouge(predicted_file_name, ref_file_name)
  File "/home/eialper/miniconda3/lib/python3.7/site-packages/rouge/rouge.py", line 13, in __init__
    self.rouge = Rouge(*args, **kwargs)
  File "/home/eialper/miniconda3/lib/python3.7/site-packages/rouge/rouge.py", line 72, in __init__
    raise ValueError("Unknown metric '%s'" % m)
ValueError: Unknown metric 'm'
